<h2>Chat with {{ other_user.username }}</h2>

<hr>

<div style="height:300px; overflow-y:auto; border:1px solid #ccc; padding:10px;">
    
    {% for message in messages %}
        <p>
            <strong>
                {% if message.sender == request.user %}
                    You:
                {% else %}
                    {{ message.sender.username }}:
                {% endif %}
            </strong>
            {{ message.content }}
            <small>({{ message.timestamp }})</small>
        </p>
    {% empty %}
        <p>No messages yet. Start the conversation ğŸ‘‹</p>
    {% endfor %}

</div>

<hr>

<form method="POST">
    {% csrf_token %}
    <input type="text" name="content" placeholder="Type a message..." required>
    <button type="submit">Send</button>
</form>
